function savePhoto()
{
	console.log("hello ###################");
	var arr = stickersArr;
	var myJSON = JSON.stringify(arr);
	var params = {stickers: myJSON, img: origImg.src};
	var form = document.createElement("form");
	form.setAttribute("method", "post");
	form.setAttribute("action", "/camagru/montage/saveCompo");

	console.log("hello");

	for(var key in params)
	{
		var hiddenField = document.createElement("input");
		hiddenField.setAttribute("type", "hidden");
		hiddenField.setAttribute("name", key);
		hiddenField.setAttribute("value", params[key]);
		form.appendChild(hiddenField);
	}
	document.body.appendChild(form);
	form.submit();
}

<?php
	function saveCompo()
	{
		$photo = new Photo();
		$photo->setSrc($_POST['img']);
		$stickers = json_decode($_POST['stickers']);
		$photo->mergeStickers($stickers);
		$photo->savePhoto($this->user->getId());
	}



	public function savePhoto($userId)
	{
		$db = new Database("camagru");
		$this->insertPhoto($db, $userId);
		$db->connect();
		$query = $db->prepare('SELECT MAX(id) FROM photos');
		$query->execute();
		$id = $query->fetch();
		imagepng($this->src, "./photos/".$id[0].".png");
	}
?>